# NewZoneCore

**–ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ —è–¥—Ä–æ –¥–æ–≤–µ—Ä–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node: >=18](https://img.shields.io/badge/Node.js->=18-green.svg)](https://nodejs.org/)
[![Security: Hardened](https://img.shields.io/badge/Security-Hardened-blue.svg)]()
[![GitHub](https://img.shields.io/badge/GitHub-NewZoneProject-black.svg)](https://github.com/NewZoneProject/NewZoneCore)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è](#–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ú–æ–¥—É–ª–∏](#–º–æ–¥—É–ª–∏)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## –û–±–∑–æ—Ä

**NewZoneCore** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–µ —è–¥—Ä–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–æ–≤–µ—Ä–∏—è. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å—é, –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏, –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π, –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –º–æ–∂–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —É–∑–ª–∞–º–∏ –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–≤–µ—Ä–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

- **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–∏—è**: –ö–∞–∂–¥—ã–π —É–∑–µ–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
- **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã Ed25519, X25519, ChaCha20-Poly1305
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –¥–æ–≤–µ—Ä–∏–µ**: –ú–æ–¥–µ–ª—å web-of-trust –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–µ–≥–æ —Ü–µ–Ω—Ç—Ä–∞
- **–ú–Ω–æ–≥–æ—Å–∫–∞—á–∫–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: TTL, hop-by-hop –ø–æ–¥–ø–∏—Å–∏, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Å HKDF –¥–µ—Ä–∏–≤–∞—Ü–∏–µ–π –∫–ª—é—á–µ–π

---

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å—é

- –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏–∑ BIP-39 –º–Ω–µ–º–æ–Ω–∏–∫–∏
- Ed25519 –¥–ª—è –ø–æ–¥–ø–∏—Å–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- X25519 –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏ (ECDH)
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ seed-—Ñ—Ä–∞–∑—ã —Å ChaCha20-Poly1305
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π –ø–∞–º—è—Ç–∏

### ü§ù –°–∏—Å—Ç–µ–º–∞ –¥–æ–≤–µ—Ä–∏—è (Trust System)

- –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ–≤–µ—Ä–∏—è –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- –ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–≤–µ—Ä–∏—è —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç replay-–∞—Ç–∞–∫
- –£—Ä–æ–≤–Ω–∏ –¥–æ–≤–µ—Ä–∏—è: UNKNOWN, LOW, MEDIUM, HIGH, ULTIMATE
- –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ–≤–µ—Ä–∏—è
- –•–µ—à-—Ü–µ–ø–æ—á–∫–∞ –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è v2

- –ú–Ω–æ–≥–æ—Å–∫–∞—á–∫–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å TTL (Time-To-Live)
- Hop-by-hop –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—É—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ broadcast –∏ flood —Å–æ–æ–±—â–µ–Ω–∏–π

### üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤

- –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ broadcast
- QR-–∫–æ–¥ –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å—é
- Peer introduction –ø—Ä–æ—Ç–æ–∫–æ–ª
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∑–ª–∞—Ö

### üíæ –ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ ChaCha20-Poly1305
- HKDF –¥–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–µ–π (–≤–º–µ—Å—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ SHA256)
- Encrypted KV-store —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–π
- Encrypted event logs —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- Size limits –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞—Ç–∞–∫

### ü§ñ –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ (always, on-failure, on-demand)
- Crash recovery —Å exponential backoff
- Health checks —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏
- Dependency graph –¥–ª—è –ø–æ—Ä—è–¥–∫–∞ –∑–∞–ø—É—Å–∫–∞

### üîå API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

- HTTP API —Å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- IPC (Inter-Process Communication) —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- API keys –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        NewZoneCore                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   HTTP API  ‚îÇ  ‚îÇ   IPC API   ‚îÇ  ‚îÇ       CLI Interface     ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  (JWT Auth) ‚îÇ  ‚îÇ (Token Auth)‚îÇ  ‚îÇ      (nzcore CLI)       ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ         ‚îÇ                ‚îÇ                      ‚îÇ               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ                    Supervisor / Core                        ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                 ‚îÇ                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ                    Service Container (DI)                   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                 ‚îÇ                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Identity   ‚îÇ  Trust Sync   ‚îÇ   Routing     ‚îÇ  Discovery  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   Manager    ‚îÇ   Protocol    ‚îÇ    Layer      ‚îÇ    Module   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ    Event     ‚îÇ   Channel     ‚îÇ   Secure      ‚îÇ Autonomous  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ     Bus      ‚îÇ   Manager     ‚îÇ   Storage     ‚îÇ  Services   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ                    Crypto Layer                             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  Ed25519 ‚îÇ X25519 ‚îÇ ChaCha20-Poly1305 ‚îÇ BLAKE2b ‚îÇ scrypt  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **Dependency Injection**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. **Event-Driven**: –í—Å–µ –º–æ–¥—É–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ EventBus
3. **Defense in Depth**: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
4. **Fail-Safe**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤

---

## –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ê–ª–≥–æ—Ä–∏—Ç–º | –†–∞–∑–º–µ—Ä –∫–ª—é—á–∞ |
|------------|----------|--------------|
| –ü–æ–¥–ø–∏—Å–∏ | Ed25519 | 32 bytes |
| –û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏ | X25519 | 32 bytes |
| –°–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ | ChaCha20-Poly1305 | 32 bytes |
| –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | BLAKE2b | 32 bytes |
| –î–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–µ–π | scrypt + HKDF | 32 bytes |
| –ú–Ω–µ–º–æ–Ω–∏–∫–∞ | BIP-39 | 12/24 —Å–ª–æ–≤–∞ |

### –î–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–µ–π

```
–ú–Ω–µ–º–æ–Ω–∏–∫–∞ (BIP-39)
       ‚îÇ
       ‚ñº
    seed.js ‚Üí 64 bytes seed
       ‚îÇ
       ‚îú‚îÄ‚ñ∫ deriveSubKey(seed, 'identity') ‚Üí Ed25519 private key
       ‚îÇ
       ‚îî‚îÄ‚ñ∫ deriveSubKey(seed, 'ecdh') ‚Üí X25519 key pair
```

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```
Master Key + Nonce
       ‚îÇ
       ‚ñº
    HKDF-Extract(salt=nonce, ikm=master_key) ‚Üí PRK
       ‚îÇ
       ‚ñº
    HKDF-Expand(PRK, context) ‚Üí Derived Key
       ‚îÇ
       ‚ñº
    ChaCha20-Poly1305(nonce, derived_key, plaintext) ‚Üí ciphertext + tag
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 18.0.0
- npm –∏–ª–∏ bun

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/NewZoneProject/NewZoneCore.git
cd NewZoneCore

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
npm run bootstrap
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–∑–ª–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nzcore init --password YOUR_PASSWORD

# –ò–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –º–Ω–µ–º–æ–Ω–∏–∫–∏
nzcore restore --mnemonic "word1 word2 ... word12"
```

### 2. –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å–∫ —è–¥—Ä–∞
nzcore start

# –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
nzcore start --config ./custom-config.json
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"password":"YOUR_PASSWORD"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
curl http://localhost:3000/api/state \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### 4. IPC –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ IPC
nzcore ipc

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
AUTH your_ipc_token

# –ö–æ–º–∞–Ω–¥—ã
state
trust:list
identity
services
```

---

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### HTTP API

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```
POST /api/auth/login
  Body: { "password": "string" }
  Response: { "accessToken": "...", "refreshToken": "...", "expiresIn": 900 }

POST /api/auth/refresh
  Body: { "refreshToken": "string" }
  Response: { "accessToken": "...", "expiresIn": 900 }
```

#### –°–æ—Å—Ç–æ—è–Ω–∏–µ

```
GET /api/state
  Auth: Bearer token
  Response: { "startedAt": "...", "node_id": "...", "trust": {...}, "services": [...] }
```

#### –î–æ–≤–µ—Ä–∏–µ

```
GET /api/trust
  Response: { "peers": [...] }

POST /api/trust
  Body: { "id": "peer_id", "pubkey": "base64_public_key" }
  Response: { "ok": true }

DELETE /api/trust?id=peer_id
  Response: { "ok": true, "removed": 1 }
```

#### –ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å

```
GET /api/identity
  Response: { "node_id": "...", "ed25519_public": "...", "x25519_public": "..." }
```

#### –°–µ—Ä–≤–∏—Å—ã

```
GET /api/services
  Response: { "services": [...] }
```

#### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```
GET /api/routing
  Response: { "routes": [...] }

POST /api/routing
  Body: { "peerId": "...", "pubkey": "..." }
  Response: { "ok": true }
```

#### –•—Ä–∞–Ω–∏–ª–∏—â–µ

```
GET /api/storage/files
  Response: { "files": [...] }

POST /api/storage/kv
  Body: { "key": "string", "value": "any" }
  Response: { "success": true }

GET /api/storage/kv?key=string
  Response: { "value": "any" }
```

### IPC –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `AUTH <token>` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `state` | –°–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–∞ |
| `identity` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ |
| `trust:list` | –°–ø–∏—Å–æ–∫ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —É–∑–ª–æ–≤ |
| `trust:add <id> <pubkey>` | –î–æ–±–∞–≤–∏—Ç—å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —É–∑–µ–ª |
| `trust:remove <id>` | –£–¥–∞–ª–∏—Ç—å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —É–∑–µ–ª |
| `services` | –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `router:routes` | –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| `router:add <peerId> <pubkey>` | –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç |
| `router:send <peerId> <json>` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `router:ping <peerId>` | –ü–∏–Ω–≥ —É–∑–ª–∞ |
| `LOGOUT` | –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é |

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã

#### –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å–æ–ª—å –¥–ª—è scrypt**: –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é 32-–±–∞–π—Ç–Ω—É—é —Å–æ–ª—å
- ‚úÖ **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ seed-—Ñ—Ä–∞–∑—ã**: Seed —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, –Ω–µ –≤ plaintext
- ‚úÖ **HKDF –¥–µ—Ä–∏–≤–∞—Ü–∏—è**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–µ—Ä–∏–≤–∞—Ü–∏—è –∫–ª—é—á–µ–π –≤–º–µ—Å—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ SHA256(key||nonce)
- ‚úÖ **SecureBuffer**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–∞–º—è—Ç–∏

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- ‚úÖ **JWT —Ç–æ–∫–µ–Ω—ã**: Access —Ç–æ–∫–µ–Ω—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è (15 –º–∏–Ω)
- ‚úÖ **API Keys**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª—é—á–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- ‚úÖ **Rate Limiting**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- ‚úÖ **IPC —Ç–æ–∫–µ–Ω—ã**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è IPC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

#### –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **CORS whitelist**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö origins
- ‚úÖ **Bind –Ω–∞ localhost**: API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ **Size limits**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç DoS

#### Trust Sync

- ‚úÖ **Replay protection**: Sequence numbers –∏ nonce –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–ü–æ–¥–ø–∏—Å–∏ Ed25519**: –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–≤–µ—Ä–∏—è –ø–æ–¥–ø–∏—Å–∞–Ω—ã
- ‚úÖ **Hash chain**: –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ü–µ–ø–æ—á–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å** –¥–ª—è master key (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)
2. **–•—Ä–∞–Ω–∏—Ç–µ –º–Ω–µ–º–æ–Ω–∏–∫—É** –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ)
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ —Ñ–∞–π–ª–∞–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `env/` (–ø—Ä–∞–≤–∞ 0o600)
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** API –∫–ª—é—á–∏
5. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
node tests/security.test.js

# –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
node tests/crypto.test.js
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

```
============================================================
NewZoneCore Security Test Suite
============================================================

[Master Key Tests]
  ‚úì should generate unique salt
  ‚úì should derive key with unique salt
  ‚úì should derive same key from same password and salt
  ‚úì should derive different keys from different passwords
  ‚úì should wipe key from memory

[Encrypted Seed Tests]
  ‚úì should encrypt and decrypt seed phrase
  ‚úì should fail decryption with wrong key
  ‚úì should securely wipe SecureBuffer

[Secure Storage Tests]
  ‚úì should create SecureStorage
  ‚úì should encrypt and decrypt files
  ‚úì should use HKDF for key derivation
  ‚úì should enforce size limits

[Auth Manager Tests]
  ‚úì should generate and validate JWT tokens
  ‚úì should reject invalid tokens
  ‚úì should generate and validate API keys
  ‚úì should reject wrong API key
  ‚úì should implement rate limiting for logins

[Trust Sync Tests]
  ‚úì should create TrustUpdate with replay protection
  ‚úì should detect duplicate updates
  ‚úì should enforce sequence ordering

[Routing Layer Tests]
  ‚úì should create RoutedMessage with TTL
  ‚úì should add hops and decrement TTL
  ‚úì should detect expired TTL

============================================================
Results: 27 passed, 0 failed
============================================================
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
NewZoneCore/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ crypto/              # –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js          # JWT –∏ API Keys
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ box.js           # X25519 ECDH
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ derive.js        # HKDF –¥–µ—Ä–∏–≤–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keys.js          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ master.js        # Master key (scrypt)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seed.js          # BIP-39 –º–Ω–µ–º–æ–Ω–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sign.js          # Ed25519 –ø–æ–¥–ø–∏—Å–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http.js          # HTTP API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ipc.js           # IPC —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ trust/               # –°–∏—Å—Ç–µ–º–∞ –¥–æ–≤–µ—Ä–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync.js          # Trust Sync Protocol
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routing/             # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layer.js         # Routing Layer v2
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ discovery/           # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js         # Node Discovery
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ storage/             # –•—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ secure.js        # Secure Storage
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ autonomous/          # –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manager.js       # Service Manager
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ eventbus/            # Event Bus
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js         # Pub/Sub —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lifecycle/           # –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manager.js       # Service Lifecycle
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ channel/             # –ö–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manager.js       # Channel Manager
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ container.js         # Dependency Injection
‚îÇ   ‚îú‚îÄ‚îÄ logger.js            # Structured Logger
‚îÇ   ‚îî‚îÄ‚îÄ core.js              # Main entry point
‚îÇ
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ security.test.js
‚îÇ   ‚îú‚îÄ‚îÄ crypto.test.js
‚îÇ   ‚îî‚îÄ‚îÄ seed-restore.test.js
‚îÇ
‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îî‚îÄ‚îÄ nzcore               # CLI executable
‚îÇ
‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ CORE_CONCEPT.md
‚îÇ   ‚îú‚îÄ‚îÄ THREAT_MODEL.md
‚îÇ   ‚îî‚îÄ‚îÄ KERNEL_SCOPE.md
‚îÇ
‚îú‚îÄ‚îÄ spec/                    # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ crypto.md
‚îÇ   ‚îú‚îÄ‚îÄ env.md
‚îÇ   ‚îî‚îÄ‚îÄ core.md
‚îÇ
‚îú‚îÄ‚îÄ ROADMAP.md               # –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îú‚îÄ‚îÄ ARCHITECTURE.md          # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ LICENSE
```

---

## –ú–æ–¥—É–ª–∏

### EventBus

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.

```javascript
import { getEventBus, EventTypes } from './eventbus/index.js';

const bus = getEventBus();

// –ü–æ–¥–ø–∏—Å–∫–∞
bus.on(EventTypes.TRUST_PEER_ADDED, (data) => {
  console.log('New peer:', data.peerId);
});

// –ü—É–±–ª–∏–∫–∞—Ü–∏—è
bus.emit(EventTypes.TRUST_PEER_ADDED, { peerId: 'peer-123' });
```

### TrustSyncProtocol

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏.

```javascript
import { TrustSyncProtocol, TrustLevel } from './trust/sync.js';

const protocol = new TrustSyncProtocol({ identity });

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —É–∑–ª–∞
const update = await protocol.createPeerAdd('peer-123', publicKey, TrustLevel.HIGH);
await protocol.broadcastUpdate(update, peers);
```

### RoutingLayer

–ú–Ω–æ–≥–æ—Å–∫–∞—á–∫–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.

```javascript
import { RoutingLayer } from './routing/layer.js';

const router = new RoutingLayer({ identity, trustStore });

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
router.addRoute('peer-123', 'next-hop-id', { metric: 2 });

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
const message = await router.sendRouted('peer-123', { type: 'ping' });
```

### SecureStorage

–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö.

```javascript
import { SecureStorage } from './storage/secure.js';

const storage = new SecureStorage({ 
  basePath: './data',
  masterKey 
});

await storage.init();

// –ó–∞–ø–∏—Å—å
await storage.writeFile('config.json', { setting: 'value' });

// –ß—Ç–µ–Ω–∏–µ
const config = await storage.readFile('config.json');

// KV Store
await storage.set('user:123', { name: 'Alice' });
const user = await storage.get('user:123');
```

### AuthManager

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

```javascript
import { AuthManager } from './crypto/auth.js';

const auth = new AuthManager({ masterKey });

// –õ–æ–≥–∏–Ω
const result = await auth.login(password, clientIp);

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª—é—á–∞
const apiKey = await auth.generateApiKey('my-app', ['read', 'write']);

// –í–∞–ª–∏–¥–∞—Ü–∏—è
const validation = auth.validateToken(token);
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–∫—Ä–∏–ø—Ç—ã

```bash
npm start          # –ó–∞–ø—É—Å–∫ —è–¥—Ä–∞
npm test           # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run lint       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ EventBus –¥–ª—è —Å–æ–±—ã—Ç–∏–π
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dependency Injection
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –≤ `tests/`

### Code Style

- ES Modules (ESM)
- JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å try-catch

---

## –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

### ‚úÖ Phase 0: Foundation
- [x] Crypto primitives
- [x] Key derivation
- [x] Seed management

### ‚úÖ Phase 1: Core
- [x] EventBus
- [x] Service Lifecycle
- [x] Identity
- [x] Channel Manager

### ‚úÖ Phase 2: Network
- [x] Distributed Trust Sync
- [x] Routing Layer v2
- [x] Node Discovery

### ‚úÖ Phase 3: Autonomous
- [x] Autonomous Services
- [x] Secure Storage Layer

### üîú Phase 4: Production
- [ ] DHT Integration
- [ ] NAT Traversal
- [ ] Network Bridging

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

Copyright (c) 2024 NewZoneProject

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **GitHub**: [github.com/NewZoneProject/NewZoneCore](https://github.com/NewZoneProject/NewZoneCore)
- **Issues**: [github.com/NewZoneProject/NewZoneCore/issues](https://github.com/NewZoneProject/NewZoneCore/issues)
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: [github.com/NewZoneProject](https://github.com/NewZoneProject)

---

*Built with ‚ù§Ô∏è by the [NewZoneProject](https://github.com/NewZoneProject) Team*
